{"version":3,"file":"static/js/705.299c19dc.chunk.js","mappings":"kMAkCAA,EAAAA,EAAQC,QAAQC,EAAAA,IAEhB,QAhCoBC,IAA6F,IAA5F,SAAEC,EAAW,CAAC,EAAG,EAAG,GAAE,SAAEC,EAAW,CAAC,EAAG,EAAG,GAAE,MAAEC,EAAQ,EAAC,iBAAEC,EAAgB,UAAEC,GAAWL,EAEzG,MAAM,MAAEM,IAAUT,EAAAA,EAAAA,GAAQE,EAAAA,KAE1BQ,EAAAA,EAAAA,IAAS,KACP,GAAa,OAATF,QAAS,IAATA,GAAAA,EAAWG,QAAS,CACtB,MAAMC,EAAMJ,EAAUG,QAAQP,SAE9BG,EAAiB,CAACK,EAAIC,EAAGD,EAAIE,EAAGF,EAAIG,GACtC,KAOF,OACEC,EAAAA,EAAAA,KAAA,aACEC,IAAKT,EACLU,OAAQT,EACRL,SAAUA,EACVC,SAAUA,EACVC,MAAOA,EACPa,YAAU,EACVC,eAAa,GAEf,C","sources":["components/PlayerModel.js"],"sourcesContent":["import { Gltf, useGLTF } from '@react-three/drei'\nimport { useFrame } from '@react-three/fiber'\nimport { ghostModel } from 'some-3d-models'\nimport { RigidBody } from '@react-three/rapier'\nconst PlayerModel = ({ position = [0, 0, 0], rotation = [0, 0, 0], scale = 1, onUpdatePosition, playerRef }) => {\n  // 加载 GLB 模型\n  const { scene } = useGLTF(ghostModel)\n\n  useFrame(() => {\n    if (playerRef?.current) {\n      const pos = playerRef.current.position\n      // 调用父组件的回调函数更新位置\n      onUpdatePosition([pos.x, pos.y, pos.z])\n    }\n  })\n  const handleModelLoad = (model) => {\n    // Assign the loaded model to your ref\n    if (playerRef) playerRef.current = model.scene\n  }\n\n  return (\n    <primitive\n      ref={playerRef} // 将 ref 绑定到模型\n      object={scene}\n      position={position}\n      rotation={rotation}\n      scale={scale}\n      castShadow\n      receiveShadow\n    />\n    // <Gltf src={ghostModel} position={position} rotation={rotation} scale={scale} castShadow receiveShadow onLoad={handleModelLoad} />\n  )\n}\n\nuseGLTF.preload(ghostModel)\n\nexport default PlayerModel\n"],"names":["useGLTF","preload","ghostModel","_ref","position","rotation","scale","onUpdatePosition","playerRef","scene","useFrame","current","pos","x","y","z","_jsx","ref","object","castShadow","receiveShadow"],"sourceRoot":""}